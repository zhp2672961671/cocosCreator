(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3667dfb8"],{3890:function(t,e,a){"use strict";a("42aa")},"42aa":function(t,e,a){},"6b45":function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("el-upload",{ref:"uploadImage",staticClass:"upload-image-wrapper",attrs:{action:"",accept:".jpg, .png, .bmp, .jpeg, .webp",multiple:!1,"show-file-list":!1,"auto-upload":!1,"on-change":t.handleChange}},[e("el-button",{attrs:{size:"small",type:"primary"}},[t._v(t._s(t.btnName))])],1)},i=[],o={name:"UploadImage",props:{btnName:{type:String,default:"选择图片"}},methods:{handleChange(t){const e=t.raw;return!!e&&(this.isImage(e)?void(this.isLimit5M(e)&&this.readImage(e)):(this.$message.warning("图片只支持.jpg, .png, .bmp, .jpeg, .webp格式!"),!1))},isLimit5M(t){const e=t.size/1024/1024<5;return!!e||(this.$message.warning("上传的图片大小不能超过5M!"),!1)},isImage(t){return/\.(jpg|png|bmp|jpeg|webp)$/.test(t.name)},readImage(t){const e=new FileReader;e.onload=t=>{let e;e="object"===typeof t.target.result?window.URL.createObjectURL(new Blob([t.target.result])):t.target.result,this.$emit("on-success",e)},e.readAsDataURL(t),e.onerror=t=>{this.$message.error("图片读取出错!")},this.$refs.uploadImage.clearFiles()}}},r=o,n=a("2877"),l=Object(n["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports},"99f5":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-cropper-wrapper"},[e("Hints",[e("template",{slot:"hintName"},[t._v("图片裁剪插件")]),e("template",{slot:"hintInfo"},[e("p",[t._v("Vue-Cropper：一个优雅的图片裁剪插件，可实现图片裁剪、图片生成等功能，并支持生成png、jpeg、webp等图片格式")]),e("p",[t._v("github地址：访问 "),e("el-link",{attrs:{type:"success",href:"https://github.com/xyxiao001/vue-cropper",target:"_blank"}},[t._v("Vue-Cropper")])],1)])],2),e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:10}},[e("el-card",{attrs:{shadow:"always"}},[e("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[t._v("裁剪区域")]),e("div",{staticClass:"content-box",staticStyle:{height:"400px"}},[e("VueCropper",{ref:"cropper",attrs:{img:t.configObj.imgSrc,"can-move":t.configObj.canMove,"auto-crop":t.configObj.autoCrop,"center-box":t.configObj.centerBox,"info-true":t.configObj.infoTrue,full:t.configObj.full,"auto-crop-width":t.configObj.autoCropWidth,"auto-crop-height":t.configObj.autoCropHeight,"output-type":t.configObj.outputType},on:{realTime:t.realTime}})],1)])],1),e("el-col",{attrs:{span:4}},[e("el-card",{attrs:{shadow:"always"}},[e("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[t._v("设置区域")]),e("div",{staticClass:"content-box",staticStyle:{height:"400px"}},[e("div",{staticStyle:{height:"100px"}},[e("UploadImage",{on:{"on-success":t.handleSuccess}}),e("el-button",{staticStyle:{"margin-top":"20px"},attrs:{size:"small",type:"primary"}},[e("a",{on:{click:t.downloadImage}},[t._v("生成图片")])]),e("a",{ref:"downloadDom",attrs:{href:t.downImg,download:"demo.png"}})],1)])])],1),e("el-col",{attrs:{span:10}},[e("el-card",{attrs:{shadow:"always"}},[e("div",{staticClass:"title",attrs:{slot:"header"},slot:"header"},[t._v("预览区域")]),e("div",{staticClass:"content-box",staticStyle:{height:"400px"}},[e("div",{staticClass:"show-preview",style:{width:t.previews.w+"px",height:t.previews.h+"px",overflow:"hidden",zoom:400/t.previews.h}},[e("div",{style:t.previews.div},[e("img",{style:t.previews.img,attrs:{src:t.previews.url,alt:"预览"}})])])])])],1)],1)],1)},i=[],o=a("7e79"),r=a("b522"),n=a("6b45"),l={name:"ImageCropper",components:{Hints:r["a"],VueCropper:o["VueCropper"],UploadImage:n["a"]},data(){return{configObj:{imgSrc:"https://cdn.jsdelivr.net/gh/baimingxuan/media-store/images/img02.jpg",canMove:!1,autoCrop:!0,centerBox:!0,infoTrue:!0,full:!0,autoCropWidth:300,autoCropHeight:200,outputType:"png"},downImg:"#",previews:{}}},methods:{handleSuccess(t){this.configObj.imgSrc=t},realTime(t){this.previews=t},downloadImage(){this.$refs.cropper.getCropBlob(t=>{if(this.downImg=window.URL.createObjectURL(t),window.navigator.msSaveBlob){const e=new Blob([t]);window.navigator.msSaveBlob(e,"demo.png")}else this.$nextTick(()=>{this.$refs.downloadDom.click()})})}}},p=l,c=a("2877"),u=Object(c["a"])(p,s,i,!1,null,null,null);e["default"]=u.exports},b522:function(t,e,a){"use strict";var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hints-wrapper"},[e("div",{staticClass:"hint-title"},[e("i",{staticClass:"vue-dsn-icon-tishi"}),e("span",[t._t("hintName")],2)]),e("div",{staticClass:"hint-info"},[t._t("hintInfo")],2)])},i=[],o={name:"Hints"},r=o,n=(a("3890"),a("2877")),l=Object(n["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports}}]);