(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-504860d6"],{"440d":function(e,r,t){e.exports=t.p+"static/img/logo2.ebf466ae.png"},"7ded":function(e,r,t){"use strict";t.d(r,"b",(function(){return c})),t.d(r,"a",(function(){return u}));var o=t("cebe"),n=t.n(o),s=t("5c96"),i=t("f3e4");const a=n.a.create({baseURL:"http://42.194.194.178:3000",timeout:12e4});a.interceptors.request.use(e=>(Object(i["a"])()&&(e.headers["Authorization"]="Bearer "+Object(i["a"])()),e.headers["Content-Type"]="application/json",e),e=>{console.log(e),Promise.reject(e)}),a.interceptors.response.use(e=>{const r=e.data,t=r.code,o=r.msg;return 0===t?r.data:(Object(s["Message"])({type:"error",message:o}),Promise.reject("error"))},e=>{const r=e.response.data.status;return r||Object(s["Message"])({type:"error",message:"接口请求失败"}),Promise.reject(e)});var l=a;function c(e){return l({url:"/user/login",method:"post",data:e})}function u(e){return l({url:"/user/info",method:"get",params:e})}},a55b:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e._self._c;return r("div",{staticClass:"login-wrapper",style:"background-image:url("+e.Background+")"},[r("div",{staticClass:"form-box"},[e._m(0),r("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"请输入账号","prefix-icon":"el-icon-user"},model:{value:e.loginForm.username,callback:function(r){e.$set(e.loginForm,"username",r)},expression:"loginForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"请输入密码","prefix-icon":"el-icon-lock"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.handleLogin.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(r){e.$set(e.loginForm,"password",r)},expression:"loginForm.password"}})],1),r("el-form-item",[r("el-checkbox",{model:{value:e.loginForm.rememberMe,callback:function(r){e.$set(e.loginForm,"rememberMe",r)},expression:"loginForm.rememberMe"}},[e._v("记住我")])],1),r("el-form-item",[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"small",type:"primary"},nativeOn:{click:function(r){return r.preventDefault(),e.handleLogin.apply(null,arguments)}}},[e.loading?r("span",[e._v("登 录 中...")]):r("span",[e._v("登 录")])])],1)],1)],1)])},n=[function(){var e=this,r=e._self._c;return r("div",{staticClass:"form-title"},[r("img",{attrs:{src:t("440d"),alt:"icon"}}),r("p",[e._v("账 号 登 录")])])}],s=(t("14d9"),t("7ded")),i=t("f3e4"),a=t("d847"),l=t.n(a),c={name:"Login",data(){return{Background:l.a,loginForm:{username:"admin",password:"admin123",rememberMe:!0},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{handleLogin(){this.$refs.loginForm.validate(e=>{const r={username:this.loginForm.username,password:this.loginForm.password};e&&(this.loading=!0,Object(s["b"])(r).then(e=>{this.loading=!1,Object(i["c"])(e.token),this.$router.push({path:this.redirect||"/"})}).catch(()=>{this.loading=!1}))})}}},u=c,d=(t("df00"),t("2877")),m=Object(d["a"])(u,o,n,!1,null,null,null);r["default"]=m.exports},ce5b:function(e,r,t){},d847:function(e,r,t){e.exports=t.p+"static/img/login-background.0f25c16a.jpg"},df00:function(e,r,t){"use strict";t("ce5b")}}]);