{"version":3,"sources":["file:///E:/myCocosGame/cocosCreator/myYoumingArcher/assets/script/fight/gameManager.ts"],"names":["_decorator","Component","Node","CameraComponent","Vec3","SkeletalAnimationComponent","ParticleSystemComponent","AnimationComponent","find","ClientEvent","PlayerData","UIManager","GameCamera","Constant","LocalConfig","AudioManager","ccclass","property","GameManager","mapInfo","_dictMonsterSkill","_oriMainLightWorPos","_offsetWorPosMainLight","isWin","value","_isWin","isGameStart","dispatchEvent","EVENT_TYPE","ON_GAME_OVER","gameSpeed","console","log","_gameSpeed","refreshEffectSpeed","ndGameManager","ndPlayer","ndEffectManager","onEnable","on","ON_GAME_INIT","_onGameInit","_onGameOver","ON_GAME_PAUSE","_onGamePause","REFRESH_LEVEL","_refreshLevel","RECYCLE_ALL","_recycleAll","onDisable","off","start","mainCamera","camera","getComponent","scriptGameCamera","node","ndMapManager","ndLight","worldPosition","clone","level","instance","playerInfo","totalLevel","getTableArr","length","queryByID","String","attackAddition","defenseAddition","hpAddition","moveSpeedAddition","attackSpeedAddition","HIDE_WARP_GATE","isGamePause","isGameOver","isRevive","arrMonster","ndBoss","existentNum","addFightTimes","pauseAll","showDialog","targetNode","arrAni","getComponentsInChildren","forEach","item","clips","clip","aniName","name","aniState","getState","speed","arrSkeletalAni","arrParticle","simulationSpeed","update","deltaTime","isTesting","isFirstLoad"],"mappings":"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","sourcesContent":["// import { EffectManager } from './../framework/effectManager';\r\nimport { ClientEvent } from './../framework/clientEvent';\r\nimport { PlayerData } from './../framework/playerData';\r\n// import { Monster } from './monster';\r\nimport { UIManager } from './../framework/uiManager';\r\n// import { MapManager } from './mapManager';\r\nimport { _decorator, Component, Node, CameraComponent, Vec3, SkeletalAnimationComponent, ParticleSystemComponent, AnimationComponent, find, Prefab } from 'cc';\r\nimport { GameCamera } from './gameCamera';\r\n// import { Player } from './player';\r\nimport { ResourceUtil } from '../framework/resourceUtil';\r\nimport { Constant } from '../framework/constant';\r\nimport { LocalConfig } from '../framework/localConfig';\r\n// import { Boss } from './boss';\r\nimport { AudioManager } from '../framework/audioManager';\r\nimport { Util } from '../framework/util';\r\n// import { PoolManager } from '../framework/poolManager';\r\nconst { ccclass, property } = _decorator;\r\n//游戏管理脚本\r\n@ccclass('GameManager')\r\nexport class GameManager extends Component {\r\n    @property(GameCamera)\r\n    public camera: GameCamera = null!;//相机脚本\r\n\r\n    // @property({type: MapManager})\r\n    // public scriptMapManager: MapManager = null!;//地图脚本脚本\r\n\r\n    @property(Node)\r\n    public ndLight: Node = null!; //主光源\r\n\r\n    public mapInfo: any = {};//地图信息\r\n\r\n    public static mainCamera: CameraComponent | null = null;//相机脚本\r\n    public static isGameStart: boolean = false;//游戏是否开始\r\n    public static isGamePause: boolean = false;//游戏是否暂停\r\n    public static isGameOver: boolean = false;//游戏是否结束\r\n    // public static scriptPlayer: Player = null!;//玩家脚本\r\n    public static scriptGameCamera: GameCamera;//相机脚本\r\n    public static ndPlayer: Node = null!;//玩家节点\r\n    public static ndBoss: Node = null!;//boss节点\r\n    // public static scriptBoss: Boss = null!;//boss脚本\r\n    public static ndGameManager: Node;//游戏全局管理节点\r\n    public static ndEffectManager: Node = null!;//特效节点\r\n    public static ndMapManager: Node = null!;//地图节点\r\n    public static isRevive: boolean = false;//玩家是否复活\r\n    public static isTesting: boolean = true;//是否开启测试代码\r\n    public static isFirstLoad: boolean = false;//是否首次加载\r\n    public static arrMonster: Node[] = []; //小怪、boss数组\r\n    public static existentNum: number = 0;//本层加载的npc、大爱心现存数量（怪物不会和npc、大爱心同时出现，配置表格需注意）\r\n    //本层敌人加成\r\n    public static attackAddition: number = 1;//本层敌人攻击加成\r\n    public static defenseAddition: number = 1;//本层敌人防御加成\r\n    public static hpAddition: number = 1;//本层敌人生命加成\r\n    public static moveSpeedAddition: number = 1;//本层敌人移速加成\r\n    public static attackSpeedAddition: number = 1;//本层敌人攻速加成\r\n\r\n    private _dictMonsterSkill: any = {};//已经预加载的敌人技能\r\n    private _oriMainLightWorPos: Vec3 = null!;//主光源节点初始世界坐标\r\n    private _offsetWorPosMainLight: Vec3 = new Vec3();//主光源和玩家的向量差\r\n\r\n    private static _gameSpeed: number = 1;//游戏速度\r\n    private static _isWin: boolean = false;//是否取得胜利\r\n\r\n\r\n    public static set isWin(value: boolean) {\r\n        this._isWin = value;\r\n\r\n        if (GameManager.isGameStart) {\r\n            ClientEvent.dispatchEvent(Constant.EVENT_TYPE.ON_GAME_OVER);\r\n        }\r\n    }\r\n\r\n    public static get isWin() {\r\n        return this._isWin;\r\n    }\r\n    public static set gameSpeed(value: number) {\r\n        console.log(\"gameSpeed\", GameManager.gameSpeed);\r\n\r\n        this._gameSpeed = value;\r\n        GameManager.refreshEffectSpeed(GameManager.ndGameManager, this._gameSpeed);\r\n        GameManager.refreshEffectSpeed(GameManager.ndPlayer as Node, this._gameSpeed);\r\n        GameManager.refreshEffectSpeed(GameManager.ndEffectManager as Node, this._gameSpeed);\r\n    };\r\n\r\n    public static get gameSpeed() {\r\n        return this._gameSpeed;\r\n    }\r\n\r\n    onEnable() {\r\n        // 游戏初始监听\r\n        console.log(\"onstant.EVENT_TYPE.ON_GAME_INIT============================\")\r\n        ClientEvent.on(Constant.EVENT_TYPE.ON_GAME_INIT, this._onGameInit, this);\r\n        return\r\n        ClientEvent.on(Constant.EVENT_TYPE.ON_GAME_OVER, this._onGameOver, this);\r\n        ClientEvent.on(Constant.EVENT_TYPE.ON_GAME_PAUSE, this._onGamePause, this);\r\n        ClientEvent.on(Constant.EVENT_TYPE.REFRESH_LEVEL, this._refreshLevel, this);\r\n        ClientEvent.on(Constant.EVENT_TYPE.RECYCLE_ALL, this._recycleAll, this);\r\n    }\r\n\r\n    onDisable() {\r\n        ClientEvent.off(Constant.EVENT_TYPE.ON_GAME_INIT, this._onGameInit, this);\r\n        return\r\n        ClientEvent.off(Constant.EVENT_TYPE.ON_GAME_OVER, this._onGameOver, this);\r\n        ClientEvent.off(Constant.EVENT_TYPE.ON_GAME_PAUSE, this._onGamePause, this);\r\n        ClientEvent.off(Constant.EVENT_TYPE.REFRESH_LEVEL, this._refreshLevel, this);\r\n        ClientEvent.off(Constant.EVENT_TYPE.RECYCLE_ALL, this._recycleAll, this);\r\n    }\r\n\r\n    start() {\r\n        GameManager.mainCamera = this.camera?.getComponent(CameraComponent) as CameraComponent;\r\n        GameManager.scriptGameCamera = this.camera?.getComponent(GameCamera) as GameCamera;\r\n        GameManager.ndGameManager = this.node;\r\n        GameManager.ndMapManager = find(\"mapManager\") as Node;\r\n        GameManager.ndEffectManager = find(\"effectManager\") as Node;\r\n\r\n        this._oriMainLightWorPos = this.ndLight.worldPosition.clone();\r\n    }\r\n    /**\r\n * 初始化游戏\r\n */\r\n    private _onGameInit() {\r\n        let level = PlayerData.instance.playerInfo.level;\r\n        console.log(\"_onGameInit==================\")\r\n        // “getTableArr”获取表格数组\r\n        let totalLevel = LocalConfig.instance.getTableArr(\"checkpoint\").length;\r\n        //游戏通关后从倒数第10关开始循环(61-70)\r\n        if (level > totalLevel) {\r\n            level = (totalLevel - 10) + (level - totalLevel) % 10;\r\n        }\r\n        // queryByID 通过id获取字典中一条\r\n        this.mapInfo = LocalConfig.instance.queryByID(\"checkpoint\", String(level));\r\n        //设置本层敌人属性加成比例\r\n        GameManager.attackAddition = this.mapInfo.attackAddition;\r\n        GameManager.defenseAddition = this.mapInfo.defenseAddition;\r\n        GameManager.hpAddition = this.mapInfo.hpAddition;\r\n        GameManager.moveSpeedAddition = this.mapInfo.moveSpeedAddition;\r\n        GameManager.attackSpeedAddition = this.mapInfo.attackSpeedAddition;\r\n\r\n        ClientEvent.dispatchEvent(Constant.EVENT_TYPE.HIDE_WARP_GATE);\r\n\r\n        GameManager.isGameStart = false;\r\n        GameManager.isGamePause = false;\r\n        GameManager.isGameOver = false;\r\n        GameManager.isWin = false;\r\n        GameManager.isRevive = false;\r\n        GameManager.arrMonster = [];\r\n        GameManager.gameSpeed = 1;\r\n        GameManager.ndBoss = null!;\r\n        GameManager.existentNum = 0;\r\n\r\n        PlayerData.instance.addFightTimes();\r\n\r\n        AudioManager.instance.pauseAll();\r\n        UIManager.instance.showDialog(\"loading/loadingPanel\", [() => {\r\n            // this._refreshLevel();\r\n        }]);\r\n    }\r\n    /**\r\n* 刷新节点下的动画、粒子播放速度\r\n* @param targetNode\r\n* @param value\r\n* @returns\r\n*/\r\n    public static refreshEffectSpeed(targetNode: Node, value: number) {\r\n        if (!targetNode) {\r\n            return;\r\n        }\r\n        let arrAni = targetNode.getComponentsInChildren(AnimationComponent);\r\n        arrAni.forEach((item: AnimationComponent) => {\r\n            item.clips.forEach((clip: any) => {\r\n                let aniName = clip?.name as string\r\n                let aniState = item.getState(aniName);\r\n                aniState.speed = value;\r\n            })\r\n        })\r\n\r\n        let arrSkeletalAni = targetNode.getComponentsInChildren(SkeletalAnimationComponent);\r\n        arrSkeletalAni.forEach((item: SkeletalAnimationComponent) => {\r\n            item.clips.forEach((clip: any) => {\r\n                let aniName = clip?.name as string\r\n                let aniState = item.getState(aniName);\r\n                aniState.speed = value;\r\n            })\r\n        })\r\n\r\n        let arrParticle = targetNode.getComponentsInChildren(ParticleSystemComponent);\r\n        arrParticle.forEach((item: ParticleSystemComponent) => {\r\n            item.simulationSpeed = value;\r\n        })\r\n    }\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n"]}