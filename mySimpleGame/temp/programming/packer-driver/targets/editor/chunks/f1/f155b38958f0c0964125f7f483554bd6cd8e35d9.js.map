{"version":3,"sources":["file:///E:/myCocosGame/mySimpleGame/assets/simple-run/scripts/PlayerController.ts"],"names":["_decorator","Component","Vec3","CCFloat","SkeletalAnimationComponent","AudioClip","AudioSourceComponent","GameState","ccclass","property","tempVec3_a","MoveAction","MoveState","cocosAnim","idle","run","jump","PlayerController","type","onTriggerCoin","onTriggerBlock","_pressedX","_pressedY","_moveState","RUNNING","_gameState","INIT","_audioSourceComp","start","getComponent","onGameInit","playerAnimComp","play","node","setPosition","set","update","deltaTime"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,O,OAAAA,O;AAASC,MAAAA,0B,OAAAA,0B;AAA4BC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,oB,OAAAA,oB;;AAEvEC,MAAAA,S,iBAAAA,S;;;;;;;;;OADf;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBT,U;AAExBU,MAAAA,U,GAAa,IAAIR,IAAJ,E;;iBAEdS,U;AAAAA,QAAAA,U,CAAAA,U;AAAAA,QAAAA,U,CAAAA,U;AAAAA,QAAAA,U,CAAAA,U;SAAAA,U,KAAAA,U;;iBAMAC,S;AAAAA,QAAAA,S,CAAAA,S;AAAAA,QAAAA,S,CAAAA,S;AAAAA,QAAAA,S,CAAAA,S;AAAAA,QAAAA,S,CAAAA,S;SAAAA,S,KAAAA,S;;AAMCC,MAAAA,S,GAAY;AACdC,QAAAA,IAAI,EAAE,iBADQ;AAEdC,QAAAA,GAAG,EAAE,gBAFS;AAGdC,QAAAA,IAAI,EAAE;AAHQ,O;;kCAMLC,gB,WADZT,OAAO,CAAC,kBAAD,C,UAEHC,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAEf;AAAP,OAAD,C,UAGRM,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAEd;AAAP,OAAD,C,UAERK,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAEb;AAAP,OAAD,C,UAERI,QAAQ,CAAC;AAACS,QAAAA,IAAI,EAAEb;AAAP,OAAD,C,2BATb,MACaY,gBADb,SACsChB,SADtC,CACgD;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAUrCkB,aAVqC;AAAA,eAWrCC,cAXqC;AAAA,eAapCC,SAboC,GAaxB,CAbwB;AAAA,eAcpCC,SAdoC,GAcxB,CAdwB;AAAA,eAgBpCC,UAhBoC,GAgBZX,SAAS,CAACY,OAhBE;AAAA,eAiBpCC,UAjBoC,GAiBZ;AAAA;AAAA,sCAAUC,IAjBE;AAAA,eAmBpCC,gBAnBoC,GAmBK,IAnBL;AAAA;;AAoB5CC,QAAAA,KAAK,GAAG;AAEJ,eAAKD,gBAAL,GAAwB,KAAKE,YAAL,CAAkBvB,oBAAlB,CAAxB;AACH,SAvB2C,CAwB5C;;;AACAwB,QAAAA,UAAU,GAAG;AACT;AACA,eAAKC,cAAL,CAAoBC,IAApB,CAAyBnB,SAAS,CAACC,IAAnC,EAFS,CAGT;;AACA,eAAKmB,IAAL,CAAUC,WAAV,CAAsBxB,UAAU,CAACyB,GAAX,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAtB;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAlC2C,O;;;;;iBAErB,C;;;;;;;iBAG6B,I;;;;;;;iBAEzB,I;;;;;;;iBAEA,I","sourcesContent":["import { _decorator, Component, Node, Vec3, CCFloat, SkeletalAnimationComponent, AudioClip, AudioSourceComponent } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\nimport {GameDefines, GameState} from './GameDefines';\r\nconst tempVec3_a = new Vec3();\r\n\r\nenum MoveAction {\r\n    LEFT,\r\n    RIGHT,\r\n    UP,\r\n}\r\n\r\nenum MoveState {\r\n    RUNNING,\r\n    MOVING_LEFT,\r\n    MOVING_RIGHT,\r\n    JUMPING,\r\n}\r\nconst cocosAnim = {\r\n    idle: 'cocos_anim_idle',\r\n    run: 'cocos_anim_run',\r\n    jump: 'cocos_anim_jump',\r\n}\r\n@ccclass('PlayerController')\r\nexport class PlayerController extends Component {\r\n    @property({type: CCFloat})\r\n    public speed: number = 1;\r\n// 骨骼动画组件\r\n    @property({type: SkeletalAnimationComponent})\r\n    public playerAnimComp: SkeletalAnimationComponent = null;\r\n    @property({type: AudioClip})\r\n    public coinAC: AudioClip = null;\r\n    @property({type: AudioClip})\r\n    public jumpAC: AudioClip = null;\r\n    public onTriggerCoin: (coinNode: Node) => void;\r\n    public onTriggerBlock: (roadBlockNode: Node) => void;\r\n\r\n    private _pressedX = 0;\r\n    private _pressedY = 0;\r\n\r\n    private _moveState: MoveState = MoveState.RUNNING;\r\n    private _gameState: GameState = GameState.INIT;\r\n\r\n    private _audioSourceComp: AudioSourceComponent = null;\r\n    start() {\r\n\r\n        this._audioSourceComp = this.getComponent(AudioSourceComponent);\r\n    }\r\n    // 游戏初始\r\n    onGameInit() {\r\n        // 播放动画\r\n        this.playerAnimComp.play(cocosAnim.idle);\r\n        // 设置位置\r\n        this.node.setPosition(tempVec3_a.set(0, 0, 0));\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n}\r\n\r\n\r\n"]}