{"version":3,"sources":["file:///E:/myCocosGame/youmingArcher/assets/script/ui/home/homePanel.ts"],"names":["_decorator","Component","LabelComponent","SpriteComponent","UIManager","PlayerData","ClientEvent","Constant","AudioManager","ccclass","property","HomePanel","_callback","onEnable","onDisable","start","show","callback","lbLevel","string","instance","playerInfo","highestLevel","onBtnSettingClick","playSound","SOUND","CLICK","showDialog","PRIORITY","DIALOG","onBtnStartClick","HOME_PANEL_CLICK","hideDialog","dispatchEvent","EVENT_TYPE","ON_GAME_INIT"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAESA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,c,OAAAA,c;AAAgBC,MAAAA,e,OAAAA,e;;AAFvCC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,U,iBAAAA,U;;AAEAC,MAAAA,W,iBAAAA,W;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBV,U,GAC9B;;2BAEaW,S,WADZF,OAAO,CAAC,WAAD,C,UAEHC,QAAQ,CAACP,eAAD,C,UAGRO,QAAQ,CAACR,cAAD,C,2BALb,MACaS,SADb,SAC+BV,SAD/B,CACyC;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAO7BW,SAP6B,GAOP,IAPO;AAAA;;AASrCC,QAAAA,QAAQ,GAAI,CAEX;;AAEDC,QAAAA,SAAS,GAAI,CAEZ;;AAEDC,QAAAA,KAAK,GAAI,CACL;AACH;;AAEDC,QAAAA,IAAI,CAAEC,QAAF,EAAuB;AACvB,eAAKL,SAAL,GAAiBK,QAAjB,CADuB,CAEvB;;AACA,eAAKC,OAAL,CAAaC,MAAb,GAAuB,GAAE;AAAA;AAAA,wCAAWC,QAAX,CAAoBC,UAApB,CAA+BC,YAAa,GAArE;AACH;;AAEDC,QAAAA,iBAAiB,GAAI;AACjB;AAAA;AAAA,4CAAaH,QAAb,CAAsBI,SAAtB,CAAgC;AAAA;AAAA,oCAASC,KAAT,CAAeC,KAA/C;AAEA;AAAA;AAAA,sCAAUN,QAAV,CAAmBO,UAAnB,CAA8B,sBAA9B,EAAsD,EAAtD,EAA0D,MAAI,CAAE,CAAhE,EAAkE;AAAA;AAAA,oCAASC,QAAT,CAAkBC,MAApF;AACH;;AAEDC,QAAAA,eAAe,GAAI;AACf;AAAA;AAAA,4CAAaV,QAAb,CAAsBI,SAAtB,CAAgC;AAAA;AAAA,oCAASC,KAAT,CAAeM,gBAA/C;AAEA;AAAA;AAAA,sCAAUX,QAAV,CAAmBY,UAAnB,CAA8B,gBAA9B,EAHe,CAKf;AACA;AACA;;AACI;AAAA;AAAA,0CAAYC,aAAZ,CAA0B;AAAA;AAAA,oCAASC,UAAT,CAAoBC,YAA9C,EARW,CASf;AACH,SA3CoC,CA6CrC;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;;;AAzDqC,O;;;;;iBAEC,I;;;;;;;iBAGL,I;;;AAuDrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import { UIManager } from './../../framework/uiManager';\nimport { PlayerData } from './../../framework/playerData';\nimport { _decorator, Component, LabelComponent, SpriteComponent } from 'cc';\nimport { ClientEvent } from '../../framework/clientEvent';\nimport { Constant } from '../../framework/constant';\nimport { AudioManager } from '../../framework/audioManager';\nconst { ccclass, property } = _decorator;\n//主界面脚本\n@ccclass('HomePanel')\nexport class HomePanel extends Component {\n    @property(SpriteComponent)\n    public spLevelName: SpriteComponent = null!;\n\n    @property(LabelComponent)\n    public lbLevel: LabelComponent = null!;\n\n    private _callback: Function = null!;\n\n    onEnable () {\n\n    }\n\n    onDisable () {\n        \n    }\n\n    start () {\n        // [3]\n    }\n\n    show (callback?: Function) {\n        this._callback = callback!;\n        //已经解锁的最高层级\n        this.lbLevel.string = `${PlayerData.instance.playerInfo.highestLevel}层`;\n    }\n\n    onBtnSettingClick () {\n        AudioManager.instance.playSound(Constant.SOUND.CLICK);\n\n        UIManager.instance.showDialog(\"setting/settingPanel\", [], ()=>{}, Constant.PRIORITY.DIALOG);\n    }\n\n    onBtnStartClick () {\n        AudioManager.instance.playSound(Constant.SOUND.HOME_PANEL_CLICK);\n        \n        UIManager.instance.hideDialog(\"home/homePanel\");\n\n        // if (this._callback) {\n        //     this._callback();\n        // } else {\n            ClientEvent.dispatchEvent(Constant.EVENT_TYPE.ON_GAME_INIT);\n        // }\n    }\n\n    // onBtnLeftClick () {\n    //     AudioManager.instance.playSound(constant.SOUND.CLICK);\n\n    // }\n\n    // onBtnRightClick () {\n    //     AudioManager.instance.playSound(constant.SOUND.CLICK);\n\n    // }\n\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.0/manual/en/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.0/manual/en/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.0/manual/en/scripting/life-cycle-callbacks.html\n */\n"]}